# I have NO idea why these have to be different,
# but unfortunately they do. Trust me I'd know.
startup-hook "echo `gpg --decrypt --quiet $XDG_CONFIG_HOME/neomutt/credentials/credentials.gpg > $XDG_RUNTIME_DIR/neomutt-credentials.sh`"
shutdown-hook 'echo `rm -f $XDG_RUNTIME_DIR/neomutt-credentials.sh`'

set my_fetcher = "$XDG_CONFIG_HOME/neomutt/helper/fetch-credential.sh"
account-hook outlook.office365.com "set my_host = hotmail"
account-hook imap.ufrgs.br "set my_host = ufrgs"
account-hook . "source account-hook/generic"

named-mailboxes "Hotmail/Caixa de Entrada" "imaps://outlook.office365.com/Inbox" \
                "Hotmail/Arquivo Morto" "imaps://outlook.office365.com/Arquivo Morto" \
                "Hotmail/Lixeira" "imaps://outlook.office365.com/Deleted" \
                "Hotmail/Rascunhos" "imaps://outlook.office365.com/Drafts" \
                "Hotmail/Enviados" "imaps://outlook.office365.com/Sent" \
                "Hotmail/Lixo Eletrônico" "imaps://outlook.office365.com/Junk" \
                "UFRGS/Caixa de Entrada" "imaps://imap.ufrgs.br/INBOX" \
                "UFRGS/Arquivo Morto" "imaps://imap.ufrgs.br/Arquivo Morto" \
                "UFRGS/Lixeira" "imaps://imap.ufrgs.br/Trash" \
                "UFRGS/Rascunhos" "imaps://imap.ufrgs.br/Drafts" \
                "UFRGS/Enviados" "imaps://imap.ufrgs.br/Sent" \
                "UFRGS/Lixo Eletrônico" "imaps://imap.ufrgs.br/Spam"

folder-hook outlook.office365.com "set my_host = hotmail"
folder-hook imap.ufrgs.br "set my_host = ufrgs"
folder-hook . "source folder-hook/generic"

send-hook ~P "source send-hook/generic"

set mailcap_path = "$XDG_CONFIG_HOME/neomutt/mailcap"
set new_mail_command = "notify-send \"New e-mail\!\" \"New: %n.\nUnread: %u.\" --app-name=\"NeoMutt\" --icon=\"${XDG_DATA_HOME}/icons/applications/neomutt-mail.svg\""

ignore *
unignore subject: from: to: cc: date:
hdr_order subject: from: to: cc: date:

alternative_order text/html text/*

set mail_check_stats
set imap_condstore
set imap_qresync
set imap_idle
set implicit_auto_view
set use_threads = threads
set sort = reverse-last-date
set sort_browser = unsorted
set delete = yes
set nomarkers

source keybinds
source style
